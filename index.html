<!DOCTYPE html>
<html>

<head>
    <title>Arithmeclick</title>
    <style>
        html {
            background-color: black;
            font-family: 'Lucida Console';
            color: aqua;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            display: none;
        }

        .center {
            display: flex;
            align-items: center;
        }
    </style>
</head>

<body>
    <div id="main" style="height: 98vh; width: 30%; background-color:rgb(0, 0, 0); float: left; border: 1px; border-color: rgb(73, 73, 73);">
        <h3 style="text-align:center;">
            <div id="name">nobody's brain</div>
        </h3>
        <hr>
        <h1 style="text-align:center;">Smarts:<div id="smarts">0</div>
        </h1>
        <p style="text-align:center;" id="sps"><small>Per second:
                <script>document.write(window.localStorage.getItem('persec'));</script>
            </small></p>
        <hr>
        <div style="text-align:center; border-top: 25px;">
            <br>
            <br>
            <h2>Question:</h2>
            <div id="question">5+8</div>
            <br>
            <form onsubmit="process(this.answer.value)" name="main">
                <input type="number" style="width: 50px; height: 25px;" name="answer" id="answer" />
            </form>
            <br>
            <br>
            <br>
        </div>
        <hr>
        <div>
            <img id="brain" src="./assests/brain.jpg" width="50px" height="25px"/>
        </div>
    </div>
    <div style="height: 98vh; width: 35%; background-color:rgb(0, 27, 27); float: left;">
        <h3 style="text-align:center;">
            <h4 style="float: left;" onclick="toggle('mem');">{Memory}
        </h3>
        <span id="updates" style="margin-left: 25px; color: rgb(255, 255, 255);">Welcome to Arithmeclick</span>
        <h4 style="float: right;" onclick="toggle('stats');">{Stats}</h4>
        </h3>
        <br>
        <br>
        <br>
        <br>
        <hr>
        <div style="height: 85%; width: 100%; background-color: rgb(0, 32, 50); overflow-y: scroll;">
            <div id="mem" style="display: none;">
                <h4 style="color:red;"
                    onclick="var yn = window.confirm('Are you sure you want to clear all your progress? This is irreversible.');if(yn == true){localStorage.clear(); window.location = ''}">
                    {Clear save data}</h4>
                <h4 style="color:rgb(255, 255, 255);"
                    onclick="var name = prompt('enter new name:');window.localStorage.setItem('name', name);document.getElementById('name').innerText = window.localStorage.getItem('name')+'\'s brain'">
                    {Change name}</h4>
                <hr>
            </div>
            <div id="stats" style="display: none;">
                <h4 style="color:rgb(255, 255, 255);">Total smarts:
                    <script>document.write(window.localStorage.getItem('totalsmarts'));</script>
                </h4>
                <h4 style="color:rgb(255, 255, 255);">Total incorrect answers:
                    <script>document.write(window.localStorage.getItem('mernts'));</script>
                </h4>
                <h4 style="color:rgb(255, 255, 255);">Average:
                    <script>document.write(eval("(" + window.localStorage.getItem('totalsmarts') + "/(" + window.localStorage.getItem('totalsmarts') + "+" + window.localStorage.getItem('mernts') + "))*100"));</script>
                    %
                </h4>
                <hr>
            </div>
            <div id="stuff">
                <!--   what a box looks like:<div style="height: 100px; width: 100%; background-color: rgb(0, 61, 61); border-radius: 10px; border-color: black; border-width: 10;">
                </div> -->
            </div>
        </div>
    </div>
    <div style="height: 98vh; width: 34%; background-color:rgb(0, 13, 22); float: left;">
        <p>Upgrades:</p>
        <div style="height: 93%; overflow-y: scroll; overflow-x: hidden;" id="upgrades">
            <hr> 
            <div id="calc" onclick="getUpgrade('calc')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/AdditionCalculator.png" width="50px" height="50px" />
                <p style="color: black;">Small<br>calculator</p>
                <h3 id="calcprice" style="color: rgb(51, 51, 51); margin-left: 50px;">
                    <script>document.write(window.localStorage.getItem("calculator"))</script><br> smarts
                </h3>
            </div>
            <hr>
            <div id="grade" onclick="getUpgrade('grade')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/gradeSchoolKid.png" width="50px" height="50px" />
                <p style="color: black;">Grade-School<br>Student</p>
                <h3 id="gradeprice" style="color: rgb(51, 51, 51); margin-left: 50px;">
                    <script>document.write(window.localStorage.getItem("grade-school"))</script> <br>smarts
                </h3>
            </div>
            <hr>
            <div id="univ" onclick="getUpgrade('univ')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/univercityKid.png" width="50px" height="50px" />
                <p style="color: black;">University<br>Student</p>
                <h3 id="univprice" style="color: rgb(51, 51, 51); margin-left: 30px;">
                    <script>document.write(window.localStorage.getItem("univercity"))</script><br> smarts
                </h3>
            </div>
            <hr>
            <div id="teach" onclick="getUpgrade('teach')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/teacher.png" width="50px" height="50px" />
                <p style="color: black;">Teacher<br></p>
                <h3 id="teachprice" style="color: rgb(51, 51, 51); margin-left: 50px;">
                    <script>if(window.localStorage.getItem("teacher") != null){document.write(window.localStorage.getItem("teacher"))}else{window.localStorage.setItem('teacher', 100000);document.write(window.localStorage.getItem("teacher"))}</script><br> smarts
                </h3>
            </div>
            <hr>
            <div id="prof" onclick="getUpgrade('prof')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/professor.png" width="50px" height="50px" />
                <p style="color: black;">Professor<br></p>
                <h3 id="teachprice" style="color: rgb(51, 51, 51); margin-left: 50px;">
                    <script>if(window.localStorage.getItem("professor") != null){document.write(window.localStorage.getItem("professor"))}else{window.localStorage.setItem('professor', 1005000);document.write(window.localStorage.getItem("professor"))}</script><br> smarts
                </h3>
            </div>
            <hr>
            <div id="super" onclick="getUpgrade('super')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/supercomputer.png" width="50px" height="50px" />
                <p style="color: black;">Super<br>Computer</p>
                <h3 id="superprice" style="color: rgb(51, 51, 51); margin-left: 50px;">
                    <script>if(window.localStorage.getItem("supercomputer") != null){document.write(window.localStorage.getItem("supercomputer"))}else{window.localStorage.setItem('supercomputer', 8500000);document.write(window.localStorage.getItem("supercomputer"))}</script><br> smarts
                </h3>
            </div>
            <hr>
            <div id="quant" onclick="getUpgrade('quant')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/quantumcomputer.png" width="50px" height="50px" />
                <p style="color: black;">Quantum<br>Computer</p>
                <h3 id="quantprice" style="color: rgb(51, 51, 51); margin-left: 50px;">
                    <script>if(window.localStorage.getItem("quantumcomputer") != null){document.write(window.localStorage.getItem("quantumcomputer"))}else{window.localStorage.setItem('quantumcomputer', 11000000);document.write(window.localStorage.getItem("quantumcomputer"))}</script><br> smarts
                </h3>
            </div>
            <hr>
            <div id="lab" onclick="getUpgrade('lab')" class="center"
                style="height: 75px; width: 100%; background-color: gray; border-style: solid; border-color: rgb(0, 16, 103); border-width: 5px;">
                <img style="margin: 20px;" src="./assests/mathlab.png" width="50px" height="50px" />
                <p style="color: black;">Math Lab</p>
                <h3 id="labprice" style="color: rgb(51, 51, 51); margin-left: 50px;">
                    <script>if(window.localStorage.getItem("mathlab") != null){document.write(window.localStorage.getItem("mathlab"))}else{window.localStorage.setItem('mathlab', 15520000);document.write(window.localStorage.getItem("mathlab"))}</script><br> smarts
                </h3>
            </div>
        </div>
    </div>

    <!--Scripts-->

    <!-- Messages
    <script>
        var ts = parseInt(localStorage.getItem('totalsmarts'));
        var lvl = Math.round(ts/25);
        
    </script> -->
    <!--Cheat codes :)-->
    <script>
        class Codes{
            constructor(){
                var stuff = "This is some stuff";
            }
            solve(amount){
                localStorage.setItem('smarts', parseFloat(localStorage.getItem('smarts'))+amount);
                document.getElementById('smarts').innerText = localStorage.getItem('smarts');
            }
            smarts(number){
                localStorage.setItem('smarts', number);
                document.getElementById('smarts').innerText = localStorage.getItem('smarts');
            }
        }
        var Cheat = new Codes()
    </script>
    <!--Functions-->
    <script>
        function toggle(ID) {
            var element = document.getElementById(ID);
            if (element.style.display === "none") {
                element.style.display = "block";
            } else {
                element.style.display = "none";
            }
        }
        function rand(min, max) {
            return Math.round(Math.random() * (max - min) + min);
        }
        function delay(time) {
            return new Promise(resolve => setTimeout(resolve, time));
        }
        function getIt(name, id) {
            document.getElementById(id).innerText = window.localStorage.getItem(name)
        }
        function process(value) {

            console.log(value);
            if(value == ''){
                return
            }
            var q = eval(document.getElementById('question').textContent)
            if (value == q) {
                var hmm = parseInt(localStorage.getItem("totalsmarts"))
                if(hmm >= 10){localStorage.setItem('add', 3)}
                if(hmm >= 50){localStorage.setItem('add', 5)}
                if(hmm >= 100){localStorage.setItem('add', 20)}
                if(hmm >= 125){localStorage.setItem('add', 23)}
                if(hmm >= 150){localStorage.setItem('add', 25)}
                if(hmm >= 175){localStorage.setItem('add', 30)}
                if(hmm >= 200){localStorage.setItem('add', 33)}
                if(hmm >= 210){localStorage.setItem('add', 37)}
                if(hmm >= 230){localStorage.setItem('add', 40)}
                if(hmm >= 260){localStorage.setItem('add', 45)}
                if(hmm >= 280){localStorage.setItem('add', 50)}
                if(hmm >= 300){localStorage.setItem('add', 55)}
                if(hmm >= 310){localStorage.setItem('add', 60)}
                if(hmm >= 330){localStorage.setItem('add', 65)}
                if(hmm >= 360){localStorage.setItem('add', 70)}
                if(hmm >= 380){localStorage.setItem('add', 75)}
                if(hmm >= 400){localStorage.setItem('add', 80)}
                if(hmm >= 410){localStorage.setItem('add', 85)}
                
                // adds your average percent correct from what is being added, to what is being added. e.g. if ur average is 100%, and
                // it's adding 5, it adds 10. (100% of 5 is 5, 5+5=10)
                var addNow = (parseInt(localStorage.getItem('add'))*eval("(" + window.localStorage.getItem('totalsmarts') + "/(" + window.localStorage.getItem('totalsmarts') + "+" + window.localStorage.getItem('mernts') + "))*100"))+parseInt(localStorage.getItem('add'))

                //localStorage.setItem('add', localStorage.getItem('totalsmarts'))
                window.localStorage.setItem('smarts', eval(window.localStorage.getItem('smarts') + "+" + window.localStorage.getItem('add')))
                var element = document.getElementById("main");
                window.localStorage.setItem('totalsmarts', eval(window.localStorage.getItem('totalsmarts') + "+1"))
                element.style.backgroundColor = 'green';
                delay(1000).then(() => element.style.backgroundColor = 'black');
            }
            else {
                var element = document.getElementById("main");
                window.localStorage.setItem('mernts', eval(window.localStorage.getItem('mernts') + "+" + 1))
                element.style.backgroundColor = 'red';
                delay(1000).then(() => element.style.backgroundColor = 'black');
            }
        }
        function ApplyUpgrade(arrayOfUpgrades, arrayOfIDs, arrayOfImgs) {
            arrayOfUpgrades.forEach(upgrade => {
                //upgrade = toString(upgrade);
                if (window.localStorage.getItem(upgrade) != 0 && window.localStorage.getItem(upgrade) != null) {
                    var divID = arrayOfIDs[arrayOfUpgrades.indexOf(upgrade)]
                    var imgs = arrayOfImgs[arrayOfUpgrades.indexOf(upgrade)]
                    var stuff = document.getElementById("stuff");
                    stuff.innerHTML = stuff.innerHTML + '<div id="' + divID + '" style="height: 100px; width: 100%; background-color: rgb(0, 61, 61); border-radius: 10px; border-color: black; border-width: 10; overflow: hidden;"></div><hr>';
                    for (i = 0; i < window.localStorage.getItem(upgrade); i++) {
                        var el = document.getElementById(divID);
                        el.innerHTML = el.innerHTML + '<img style="margin-left: 20px; margin-right: 20px; margin-top: 10px;" src="' + imgs + '" width="25px" height="25px"/>'
                    }
                }
            });
        }
        function check(price, id) {
            if (parseInt(localStorage.getItem("smarts")) >= parseInt(localStorage.getItem(price))) {
                document.getElementById(id).style.backgroundColor = "aqua"
            }
            else {
                document.getElementById(id).style.backgroundColor = "gray"
            }
        }
        function buy(price, upgradeDivID, owned, storagenameid, nprice, img, add) {
            localStorage.setItem("smarts", eval(localStorage.getItem("smarts") + "-" + localStorage.getItem(price)))
            document.getElementById('smarts').innerText = Math.round(parseInt(localStorage.getItem("smarts")) * 10) / 10
            if (eval(window.localStorage.getItem(price) > window.localStorage.getItem("smarts"))) {
                document.getElementById(upgradeDivID).style.backgroundColor = "gray"
            }
            if (window.localStorage.getItem(owned) == 0 || window.localStorage.getItem(owned) == null) {
                var stuff = document.getElementById("stuff");
                stuff.innerHTML = stuff.innerHTML + '<div id="' + storagenameid + '" style="height: 100px; width: 100%; background-color: rgb(0, 61, 61); border-radius: 10px; border-color: black; border-width: 10; overflow: hidden;">\
                                <img style="margin-left: 20px; margin-right: 20px; margin-top: 10px;" src="'+ img + '" width="25px" height="25px"/></div><hr>';
                window.localStorage.setItem(owned, eval(window.localStorage.getItem(owned) + "+1"))
            }
            else {
                var stuff = document.getElementById(storagenameid);
                stuff.innerHTML = stuff.innerHTML + '<img style="margin-left: 20px; margin-right: 20px; margin-top: 10px;" src="' + img + '" width="25px" height="25px"/></div>';
                window.localStorage.setItem(owned, eval(window.localStorage.getItem(owned) + "+1"))
            }
            var newprice = eval("(25*" + localStorage.getItem(price) + ")/100")
            window.localStorage.setItem(price, parseInt(localStorage.getItem(price)) + Math.round(newprice))
            document.getElementById(nprice).innerHTML = window.localStorage.getItem(price) + '<br>smarts'
            if (localStorage.getItem("persec") == 0 || localStorage.getItem("persec") == null) {
                localStorage.setItem("persec", add);
                document.getElementById("sps").innerHTML = "<small>Per second: " + window.localStorage.getItem('persec') + "</small>"
            }
            else {
                localStorage.setItem("persec", parseFloat(localStorage.getItem("persec")) + ( add * parseInt(localStorage.getItem("totalsmarts"))) )
                document.getElementById("sps").innerHTML = "<small>Per second: " + window.localStorage.getItem('persec') + "</small>"
            }
        }

    </script>
    <!--Onload-->
    <script>
        var aou = ['Calcassest', 'Gradeassest', 'Univassest', 'Teachassest', 'Profassest', 'Superassest', 'Quantassest', 'Labassest'];
        var aoid = ['calculators', 'schoolers', 'univercers', 'teachers', 'professors', 'supercomputers', 'quantumcomputers', 'mathlabs'];
        var aoimg = ['./assests/AdditionCalculator.png', './assests/gradeSchoolKid.png', './assests/univercityKid.png', "./assests/teacher.png", "./assests/professor.png", "./assests/supercomputer.png", "./assests/quantumcomputer.png", "./assests/mathlab.png"]
        window.onload = function () {
            document.main.answer.focus();
            ApplyUpgrade(aou, aoid, aoimg);
            document.getElementById("brain").style.width = ((parseInt(localStorage.getItem("totalsmarts"))/3)*2)+"px"
            document.getElementById("brain").style.height = (parseInt(localStorage.getItem("totalsmarts"))/3)+"px"
        }
    </script>
    <!--New game & localstorage-->
    <script>
        if (window.localStorage.getItem('played') == null) {
            window.localStorage.setItem('played', true);
            var name = prompt("Welcome to Arithmeclick! Please enter a name:")
            window.localStorage.setItem('name', name)
            window.localStorage.setItem('smarts', 0)
            window.localStorage.setItem('totalsmarts', 0)
            window.localStorage.setItem('mernts', 0)
            window.localStorage.setItem('add', 1)
            window.localStorage.setItem('persec', 0)
            window.localStorage.setItem('assests', [])
            window.localStorage.setItem('calculator', 5)
            window.localStorage.setItem('grade-school', 50)
            window.localStorage.setItem('univercity', 10000)
            window.localStorage.setItem('teacher', 100000)
            window.localStorage.setItem('professor', 1005000)
            window.localStorage.setItem('supercomputer', 8500000);
            window.localStorage.setItem('quantumcomputer', 11500000);
            window.localStorage.setItem('mathlab', 15520000);            
        }
        document.getElementById('name').innerText = window.localStorage.getItem('name') + "'s brain"
        document.getElementById('smarts').innerText = Math.round(parseInt(localStorage.getItem("smarts")) * 10) / 10
        var equ1 = rand(1, 10);
        var equ2 = rand(1, 10);
        var equ = equ1 + " + " + equ2;
        document.getElementById('question').innerText = equ
    </script>
    <!--Upgrades-->
    <script>
        function getUpgrade(name) {
            switch (name) {
                case "calc":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("calculator"))) {
                        buy("calculator", "calc", "Calcassest", "calculators", "calcprice", "./assests/AdditionCalculator.png", 0.2)
                    }
                    break;
                case "grade":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("grade-school"))) {
                        buy("grade-school", "grade", "Gradeassest", "schoolers", "gradeprice", "./assests/gradeSchoolKid.png", 1)
                    }
                    break;
                case "univ":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("univercity"))) {
                        buy("univercity", "univ", "Univassest", "univercers", "univprice", "./assests/univercityKid.png", 5)
                    }
                    break;
                case "teach":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("teacher"))) {
                        buy("teacher", "teach", "Teachassest", "teachers", "teachprice", "./assests/teacher.png", 6.5)
                    }
                    break;
                case "prof":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("professor"))) {
                        buy("professor", "prof", "Profassest", "professors", "profprice", "./assests/professor.png", 7.3)
                    }
                    break;
                case "super":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("supercomputer"))) {
                        buy("supercomputer", "super", "Superassest", "supercomputers", "superprice", "./assests/supercomputer.png", 9.5)
                    }
                    break;    
                case "quant":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("quantumcomputer"))) {
                        buy("quantumcomputer", "quant", "Quantassest", "quantumcomputers", "quantprice", "./assests/quantumcomputer.png", 12)
                    }       
                    break;
                case "lab":
                    if (eval(localStorage.getItem("smarts") + ">=" + localStorage.getItem("mathlab"))) {
                        buy("mathlab", "lab", "Labassest", "mathlabs", "labprice", "./assests/mathlab.png", 14.3)
                    }       
                    break;
            }
        }
    </script>
    <!--Persec-->
    <script>
        var ps = () => {
            window.localStorage.setItem('smarts', eval(window.localStorage.getItem('smarts') + "+" + window.localStorage.getItem('persec')))
            document.getElementById("smarts").innerText = Math.round(parseInt(localStorage.getItem("smarts")) * 10) / 10
            check("calculator", "calc")
            check("grade-school", "grade")
            check("univercity", "univ")
            check("teacher", "teach")
            check("professor", "prof")
            check("supercomputer", "super")
            check("quantumcomputer", "quant")
            check("mathlab", "lab")
        }
        setInterval(ps, 1000)
    </script>
</body>

</html>